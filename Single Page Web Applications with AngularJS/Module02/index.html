<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <script src="./js/angular.min.js"></script>
  <script src="./js/app.js"></script>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <title>Shopping Cart</title>
</head>

<body ng-app="module02">
  <div class="content">
    <h1> SHOPPING LIST </h1>
    <div id="add" ng-controller="listAdd as add">
      <form>Add an item to the list: <input ng-model="item" placeholder="Item"/><input ng-model="quantity" placeholder="Quantity"/><button type="submit" ng-click="add.add(quantity, item)">Add</button></form>{{ add.error }}
      <div ng-show="shoppingListService.error">{{ shoppingListService.error }}</div>
    </div>
    <div id="need" ng-controller="needView as need">
      To Buy
      <div class="list" ng-repeat="item in need.list">
      <button class="list-button" ng-click="need.bought($index)">Bought</button> 
        {{ item.quantity }} {{ item.item }} <button class="remove-button" ng-click="need.remove($index)">X</button>        
      </div>
      <div class="empty" ng-if="need.list.length === 0 && need.have.length != 0">Everything is bought!</div>
      <div class="empty" ng-if="need.list.length === 0 && need.have.length === 0">Use the form above to add items to the list.</div>
    </div>
    <div id="have" ng-controller="haveView as have">
      Already Bought
      <div class="list" ng-repeat="item in have.list">
        {{ item.quantity + " " + item.item }}
      </div>
      <div class="empty" ng-if="have.list.length === 0">Nothing bought yet.</div>
    </div>
  </div>
</body>

</html>
